<ion-content class="auth-page">
    <h4 class="title" text-center>
        <!--<ion-icon name="paw" primary></ion-icon>-->
        <span secondary>PET MATES</span>
    </h4>

    <ion-segment padding [(ngModel)]="mode">
        <ion-segment-button value="login">
            Sign in
        </ion-segment-button>
        <ion-segment-button value="sign-up">
            Create account
        </ion-segment-button>
    </ion-segment>
    <div [ngSwitch]="mode" padding-horizontal>
        <form (ngSubmit)="login()" *ngSwitchCase="'login'">
            <div padding-bottom class="fb">
                <button small type="button" facebook block (click)="loginFacebook()">
                    <ion-icon name="logo-facebook"></ion-icon>
                    Login with Facebook
                </button>
            </div>
            <ion-list>
                <ion-item>
                    <ion-input required type="text" [(ngModel)]="name" placeholder="Email"></ion-input>
                </ion-item>
                <ion-item>
                    <ion-input required type="password" [(ngModel)]="password" placeholder="Password"></ion-input>
                </ion-item>
                <button ion-item type="submit" [disabled]="!name || !password">Login</button>
            </ion-list>
            <button type="button" (click)="openForgotForm()" small light block>
                Forgot password?
            </button>
        </form>
        <form (ngSubmit)="signup()" *ngSwitchCase="'sign-up'">
            <div padding-bottom>
                <button small type="button" facebook block (click)="loginFacebook()">
                    <ion-icon name="logo-facebook"></ion-icon>
                    Sign-up with Facebook
                </button>
            </div>
            <ion-list>
                <ion-item>
                    <ion-input required type="text" [(ngModel)]="name" placeholder="Name"></ion-input>
                </ion-item>
                <ion-item>
                    <ion-input required type="text" [(ngModel)]="email" placeholder="Email"></ion-input>
                </ion-item>
                <ion-item>
                    <ion-input required type="password" [(ngModel)]="password" placeholder="Password"></ion-input>
                </ion-item>
                <ion-item (click)="geoLocalizeMe()">
                    <ion-icon item-left name="locate"></ion-icon>
                    <ion-input readonly required type="text" placeholder="Click to get your location"
                               [value]="user.city + ', ' + user.country"></ion-input>
                </ion-item>
                <button ion-item type="submit"
                        [disabled]="!location.coordinates || !name || !password || !email">Submit
                </button>
            </ion-list>
        </form>
    </div>
</ion-content>
