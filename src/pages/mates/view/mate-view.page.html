<ion-header>
    <ion-navbar>
        <ion-title>
            {{friend.name}}
        </ion-title>
    </ion-navbar>
</ion-header>

<ion-content>
    <ion-row no-padding wrap center>
        <ion-col no-padding width-100>
            <mate-image [image]="friend.pic" height-200></mate-image>
        </ion-col>
    </ion-row>

    <p text-center>{{ friend.city + ', ' + friend.country }}</p>

    <!--<div padding-horizontal *ngIf="friend._id !== auth.user._id">-->
    <div padding-horizontal>
        <button ion-button icon-left block color="primary"
                *ngIf="!status"
                (click)="addMate()">
            <ion-icon name="person-add"></ion-icon>
            Send mate request
        </button>

        <p text-center *ngIf="status === friendshipStatuses.pending">
            {{friend.name}} sent you a mate request!
        </p>
        <button ion-button icon-left block color="secondary" margin-bottom-small
                *ngIf="status === friendshipStatuses.pending"
                (click)="addMate()">
            <ion-icon name="checkmark"></ion-icon>
            Add to my mates
        </button>
        <div text-center
             *ngIf="status === friendshipStatuses.requested ||
                    status === friendshipStatuses.pending">
            <p *ngIf="status === friendshipStatuses.requested">
                Request sent!
            </p>
            <button ion-button small block color="danger" outline
                    (click)="removeMate()">
                Cancel
            </button>
        </div>
        <button ion-button small block color="danger" outline
                *ngIf="status === friendshipStatuses.accepted"
                (click)="removeMate()">
            Remove from my mates
        </button>
        <div text-center>
            <button ion-button small clear color="danger" icon-left
                    (click)="report()">
                Report
            </button>
        </div>
    </div>

    <pets-list [pets]="pets$"></pets-list>

    <ion-list *ngIf="friend.mates.length > 0">
        <ion-list-header>
            Mates
        </ion-list-header>
        <button ion-item
                *ngFor="let d of friend.mates"
                (click)="viewMate(d.friend._id)">
            <ion-avatar item-left>
                <mate-image [image]="d.friend.pic"></mate-image>
            </ion-avatar>
            <h2>{{d.friend.name}}</h2>
            <p>{{d.friend.city + ', ' + d.friend.country}}</p>
        </button>
    </ion-list>
</ion-content>